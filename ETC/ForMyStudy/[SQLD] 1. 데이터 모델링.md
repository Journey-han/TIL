# 1과목. 데이터 모델링의 이해

## 1절. 데이터 모델의 이해

### 1. 모델링 
- 현실세계를 단순화하여 표현하는 기법


- 특징
    - 단순화, 추상화, 명확화
- 관점
    - 데이터 관점 : 업무와 데이터, 데이터 사이의 관계
    - 프로세스관점 : 진행되고 있거나 진행되어야 하는 업무
    - 상관 관점 : 데이터에 대한 업무 처리 방식의 영향

### 2. 데이터 모델링
- 정보 시스템 구축을 위한 데이터 관점의 엄무 분석 기법


- 중요성 및 유의점
    - 중복 : 같은 시간, 같은 데이터 제공
    - 비유연성 : 사소한 업무 변화에 데이터 모델이 수시로 변경되면 안된다.
    - 비일관성 : 신용상태에 대한 갱신없이 고객의 납부 이력 정보 갱신 안된다.
- 데이터 모델링 3단계
    - **개념적 모델링** : 엔티티, 속성 도출, ERD 작성, 업무 중심, 포괄적 수준의 모델링
    - **논리적 모델링** : 식별자 도출, 속성, 관계 정의, 정규화 수행
    - **물리적 모델링** : DB구축, 성능 및 보안 등 물리적인 성격 고려
    - 계획(개념) > 분석(논리) > 설계(물리) > 테스트 > 전환/이행
- 데이터 독립성 요소
    - 외부 스키마 : 개개 사용자가 보는 **개인적 DB 스키마**
    - 개념 스키마 : 모든 사용자 관점을 **통합한 전체 DB**
    - 내부 스키마 : **물리적 장치**에서 데이터가 실제적으로 저장
- 데이터 독립성
    - 필요성 : 데이터의 중복성과 데이터 복잡도 증가로 인한 유지비용 증가, 요구사항 대응 저하
    - 논리적 독립성 : 개념 스키마가 변경되어도 외부 스키마에 영향 X
    - 물리적 독립성 : 내부 스키마가 변경되어도 외부/개념 스키마는 영향 X

### 3. 사상(Mapping)
- 상호 독립적인 개념을 연결시켜주는 다리

### 4. 데이터 모델링 3요소
- 어떤 것(Things) : 엔티티(집합) / 인스턴스(단수)
- 성격(Attributes)
- 관계(Relationships)

### 5. ERD
- ERD 작업 순서
    - 엔티티 그림 - 엔티티 배치 - 엔티티 관계 설정 - 관계명 기술 - 관계 차수 표현(1:1 / 1:N / N:N) - 관계 선택 사항 표현(필수/선택)
- 좋은 모델링의 조건
    - **완전성, 중복배제, 업무규칙, 데이터 재사용, 의사소통, 통합성**


---


## 2절. 엔티티(Entity) 

### 1. 정의
- 업무에서 관리해야하는 데이터의 집합. 명사형. 인스턴스의 집합

### 2. 특징
- **반드시** 해당 업무에서 **필요**하고 관리하고자 함
- **유일한 식별자**에 의해 식별 가능
- **두 개 이상의 인스턴스**의 집합
- **업무 프로세스에 의해 이용되어야** 함
- **반드시 속성이 있어야** 함

### 3. 분류
- 유무형에 따른 분류
    - 유형 : 물리적 형태 (사원, 물품, 강사)
    - 개념 : 개념적 정보 (조직, 보험 상품)
    - 사건 : 업무 수행시 발생 (주문, 청구, 미납)
- 발생 시점에 따른 분류
    - 기본 : 원래 존재하는 정보 (사원, 부서)
    - 중심 : 기보 엔티티로부터 발생 (계약, 사고, 주문)
    - 행위 :  2개 이상의 부모 엔티티로부터 발생 (주문 목록, 사원 변경 이력)


---


## 3절. 속성

### 1. 정의
- 업무에서 필요로 하는 것
- **의미상 더 이상 분리되지 않**는다.
- 엔티티를 설명하고 인스턴스의 구성요서가 된다.

> 💡 엔티티-인스턴스-속성-속상값의 관계
> - 한개의 엔티티는 **두개 이상**의 인스턴스 집합     
> - 한개의 엔티티는 **두개 이상**의 속성을 가짐     
> - 한개의 속성은 **한개**의 속성값을 가짐

![Entity](/resources/image/entity.jpg)

### 2. 분류
- 특성에 따른 분류
    - 기본 : 업무로부터 추출한 모든 일반적인 속성
    - 설계 : 업무를 규칙화하기 위해 새로 만들거나 변형, 정의하는 속성
    - 파생 : 다른 속성에 영향을 받아 발생하는 속성. 빠른 성능을 낼 수 있도록 원래 속성의 값을 계산
- 엔티티 구성 방식에 따른 분류
    - PK : 엔티티를 식별할 수 있는 속성
    - FK : 다른 엔티티와의 관계에서 포함된 속성
    - 일반 속성 : 엔티티에 포함되어 있고, PK, FK에 포함되지 않은 속성

### 3. 도메인(Domain)
- 각 속성이 가질 수 있는 값의 범위


---


## 4절. 관계(Relationship)

### 1. 정의
- 엔티티 간의 논리적인 관련성. 동시형

### 2. 관계의 페어링
- 인스턴스 간 개별적 관계

> 💡 UML은 연관 관계와 의존 관계를 구부하여 실선, 점선으로 표현. **ERD에서는 구분하지 않고 표기**     
> - 연관 관계 : 존재적 관계. 항상 이용하는 관계     
> - 의존 관계 : 상대방 행위에 의해 발생하는 관계   

### 3. 관계 표기법
- **관계 명** : 관계의 이름
- **관계 차수** : 존재적 관계. 항상 이용하는 관계
- **관계 선택 사양(관계 선택성)** : 필수 관계 /  선택 관계

### 4. 관계 체크 사항
- 두 개의 엔티티 사이에 관심있는 **연관 규칙**이 존재하는가?
- 두 개의 엔티티 사이에 **정보의 조합**이 발생하는가?
- 업무 기술서, 장표에 **관계 연결에 대한 규칙이 서술**이 되어 있는가?
- 업무 기술서, 장표에 **관계 연결을 가능하게 하는 _동사_**가 존재하는가?


---


## 5절. 식별자(Identifiers)

### 1. 정의
- 엔티티를 대표할 수 있는 유일성을 만족하는 속성

### 2. 특징
- **유일성, 최소성, 불변성, 존재성**

### 3. 종류
- 대표성 여부에 따른 분류
    - 주 식별자 : 대표성을 만족하는 식별자
    - 보조 식별자 : 유일성과 최소성만 만족하는 식별자. 참조관계 연결에 사용불가

    > 🔑 DB 키의 종류
    > - 기본키(PK) : 엔티티를 대표하는 키. 후보키 중 선정.     
    > - 후보키 : 유일성, 최소성을 만족하는 키    
    > - 슈퍼키 : 유일성만 만족     
    > - 대체키 : 기본키를 제외한 나머지 후보키     
    > - 외래키(FK) : 여러 테이블의 기본키 필드. 참조 무결성을 확인하기 위해 사용됨.    

- 생성 여부에 따른 분류
    - 내부 식별자 : 자연스럽게 존재하는 식별자
    - 외부 식별자 : 다은 엔티티와의 관계를 통해 생성되는 식별자
- 속성 수에 따른 분류
    - 단일 식별자 : 하나의 속성
    - 복합 식별자 : 여러 속성
- 대체 여부에 따른 분류
    - 본질 식별자 : 대체될 수 없는 식별자
    - 인조 식별자 : 인위적으로 만들어지는 대체 가능한 식별자. 후보 식별자 중 주 식별자로 사용할 수 있는 것이 없거나 주 식별자가 너무 많은 컬럼으로 구성되어 있을 때 사용. ex) 시퀀스 넘버를 사용하여 생성된 식별자

### 4. 주 식별자 도출 기준
- 업무에서 자주 이용되는 속성
- 이름 명명 지양
- 복합 식별자 지양

### 5. 식별자 관계와 비 식별자 관계
- 식별자 관계
    - 자식 엔티티의 주 식별자로부터 주 식별자가 상속이 되는 경우
    - 반드시 부모엔티티 종속. 자식 주 식별자 구성에 부모 주 식별자 포함 필요. 상속받을 속성을 타 엔티티에 이전 필요
- 비 식별자 관계
    - 부모 엔티티로부터 속성을 받았지만 자식 엔티티의 주 식별자로 상요하지 않고 일반적인 속성으로만 사용하는 경우
    - 약한 종속관계. 자식 주 식별자 구성을 독립적으로. 자식 주 식별자 구성에 부모 주 식별자 부분 필요. 상속 받은 주 식별자 속성을 타 엔티티에 차단 필요. 부모 쪽의 관계 참여가 선택적 관계.
